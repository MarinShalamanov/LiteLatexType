<html>
<head>
<title>Math Typer </title>
<script type="text/javascript" src="http://latex.codecogs.com/latexit.js"></script>
<script type="text/javascript" src="js/math2.js"></script>
</head>
<body>

<table width="100%">
	<tr>
		<td width="50%" valign="top">
			<div id="commited"> </div>
			<div id="latex-view"></div>
		</td>
		<td width="50%">
			<textarea id="text" rows="40" cols="70"></textarea> <br/>
			<button onclick="commit()"> Commit </button>
		</td>
	</tr>
</table>


<script>
function commit() {
	document.getElementById("text").value = "";
	var latexView = document.getElementById("latex-view");
	var currImg = latexView.innerHTML;
	latexView.innerHTML = "";
	
	document.getElementById("commited").innerHTML += currImg + "<p>";	
}

function update () {
	var textView = document.getElementById("text");
	
	if (!!textView) {
		var newContent = textView.value;

		
		newContent = window.parseToLatex(newContent);
		
		var inner = "<img src=\"http://latex.codecogs.com/gif.latex?" + newContent + "\" border=\"0\"/>";
		
		document.getElementById("latex-view").innerHTML = inner;
	}
	
	setTimeout(update, 2000);
}

update();


</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54065637-1', 'auto');
  ga('send', 'pageview');

</script>

</body>

</html>